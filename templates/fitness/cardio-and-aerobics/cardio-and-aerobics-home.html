{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <h1>Log Cardio and Aerobics</h1>
  <form id="logCardioForm">
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" class="form-control" id="name" name="name" required />
    </div>
    <div class="form-group">
      <label for="activity">Activity:</label>
      <input
        type="text"
        class="form-control"
        id="activity"
        name="activity"
        required
      />
    </div>
    <div class="form-group">
      <label for="duration">Duration (minutes):</label>
      <input
        type="number"
        class="form-control"
        id="duration"
        name="duration"
        required
      />
    </div>
    <div class="form-group">
      <label for="date">Date:</label>
      <input type="date" class="form-control" id="date" name="date" required />
    </div>
    <div class="form-group">
      <label for="notes">Notes:</label>
      <textarea
        class="form-control"
        id="notes"
        name="notes"
        rows="3"
      ></textarea>
    </div>
    <button type="button" class="btn btn-success" id="submitForm">
      Submit
    </button>
  </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Pre-fill the date input with today's date
        document.getElementById('date').valueAsDate = new Date();

        // Handle form submission
        document.getElementById('submitForm').addEventListener('click', function() {
            var formData = new FormData(document.getElementById('logCardioForm'));

            fetch('/fitness/cardio-and-aerobics/submit-cardio-log', {
                method: 'POST',
                body: formData
            }).then(response => {
                if (response.ok) {
                    // Show a success alert
                    alert('Cardio log submitted successfully!');
                } else {
                    // Handle errors here
                    alert('Error submitting form.');
                }
            }).catch(error => {
                // Handle network errors here
                alert('Network error: ' + error.message);
            });
        });
    });
</script>


{% endblock %}
