{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h1>Log Food Item</h1>

    <!-- DataTable for selecting a food item -->
    <table id="foodItemsTable" class="display">
        <thead>
            <tr>
                <th>Food Name</th>
                <th>Calories</th>
                <th>Protein</th>
                <th>Carbohydrates</th>
                <th>Sugar</th>
                <th>Fats</th>
                <th>Select</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be populated dynamically using JavaScript -->
        </tbody>
    </table>

    <!-- Display selected food item name -->
    <div id="selectedFoodItemDisplay" class="mt-3"></div>

    <!-- Log Food Item Form -->
    <form id="logFoodForm" class="mt-4">
        <!-- Hidden field for selected food item ID -->
        <input type="hidden" id="selectedFoodItemId">

        <div class="form-group">
            <label for="servingCount">Serving Count</label>
            <input type="number" class="form-control" id="servingCount" min="0.01" step="0.01" required>
        </div>
        <div class="form-group">
            <label for="logDate">Date</label>
            <input type="date" class="form-control" id="logDate" required>
        </div>
        <div class="form-group">
            <label for="mealType">Meal Type</label>
            <select class="form-control" id="mealType" required>
                <option value="">Select Meal Type</option>
                <option value="breakfast">Breakfast</option>
                <option value="lunch">Lunch</option>
                <option value="dinner">Dinner</option>
                <option value="snack">Snack</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Log Food</button>
    </form>
</div>
<script src="{{ url_for('static', filename='js/food/log-food.js') }}"></script>
{% endblock %}
