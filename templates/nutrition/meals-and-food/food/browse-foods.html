{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h1>Browse Foods</h1>
    <table id="foodsTable" class="display">
        <thead>
            <tr>
                <th>ID</th>
                <th>Food Name</th>
                <th>Serving Size</th>
                <th>Calories</th>
                <th>Total Fat</th>
                <th>Total Carbohydrate</th>
                <th>Total Sugars</th>
                <th>Total Protein</th>
                <th>Actions</th>
            </tr>
        </thead>
    </table>
</div>

<script>
    $(document).ready(function() {
        $('#foodsTable').DataTable({
            "ajax": {
                "url": "{{ url_for('get_foods') }}",
                "dataSrc": ""
            },
            "columns": [
                { "data": "id" },
                { "data": "food_name" },
                { "data": "serving_size" },
                { "data": "calories" },
                { "data": "total_fat" },
                { "data": "total_carbohydrate" },
                { "data": "total_sugars" },
                { "data": "total_protein" },
                { 
                    "data": null,
                    "defaultContent": '<button class="editBtn btn btn-secondary btn-sm">Edit</button> <button class="deleteBtn btn btn-danger btn-sm">Delete</button>' 
                }
            ]
        });
    });
</script>
{% endblock %}
