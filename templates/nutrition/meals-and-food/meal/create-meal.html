{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <h1>Create a New Meal</h1>
  <form id="createMealForm">
    <div class="form-group">
      <label for="mealName">Meal Name</label>
      <input
        type="text"
        class="form-control"
        id="mealName"
        name="mealName"
        required
      />
    </div>

    <div class="form-group">
      <label>Select Food Items and Specify Serving Count</label>
      <table id="foodItemsTable" class="display">
        <thead>
          <tr>
            <th>Food Item</th>
            <th>Serving Count</th>
          </tr>
        </thead>
        <tbody>
          {% for food in food_items %}
          <tr>
              <td>
                  <input
                      type="checkbox"
                      class="food-item-checkbox"
                      value="{{ food.id }}"
                      id="foodItem{{ food.id }}"
                  />
                  <label for="foodItem{{ food.id }}">{{ food.name }} (Serving Size: {{ food.serving_size }}g)</label>
              </td>
              <td>
                  <input
                      type="number"
                      min="0"
                      step="any"
                      class="form-control serving-count-input"
                      placeholder="Serving count"
                      data-food-id="{{ food.id }}"
                      style="display: none"
                  />
              </td>
          </tr>
          {% endfor %}
      </tbody>      
      </table>
    </div>

    <button type="submit" class="btn btn-primary">Create Meal</button>
  </form>
</div>

<script src="{{ url_for('static', filename='js/meal/create-meal.js') }}"></script>

{% endblock %}
